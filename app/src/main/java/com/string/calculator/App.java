/*
 * This Java source file was generated by the Gradle 'init' task.
 */
package com.string.calculator;

import com.string.calculator.output.Category;
import com.string.calculator.output.JsonOutput;
import com.string.calculator.output.Output;
import com.string.calculator.output.OutputFactory;
import java.util.Scanner;

public class App {

  public static boolean fraction = true;

  public static void main(String[] args) {
    Scanner scanner = new Scanner(System.in);
    System.out.print("num : ");
    String input = "";
    if (scanner.hasNextLine()) {
      input = scanner.nextLine();
    }

    Calculator calculator = new Calculator();
    String result = calculator.calculate(input);

    System.out.println("출력 포맷을 선택하세요.");
    System.out.println("1. json, 2. xml, 3. plain-text");

    int formatInput = scanner.nextInt();
    Category category = getCategory(formatInput);
    OutputFactory outputFactory = new OutputFactory();
    Output output = outputFactory.create(result, category);
    output.print();

  }

  private static Category getCategory(int formatInput) {
    Category category = null;
    if (formatInput == 1) {
      category = Category.JSON;
    } else if (formatInput == 2) {
      category = Category.XML;
    } else if (formatInput == 3) {
      category = Category.PLAIN;
    }
    return category;
  }

}
