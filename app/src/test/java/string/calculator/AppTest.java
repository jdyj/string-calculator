/*
 * This Java source file was generated by the Gradle 'init' task.
 */
package string.calculator;

import static org.junit.jupiter.api.Assertions.assertEquals;

import java.util.List;
import java.util.Stack;
import org.junit.jupiter.api.Test;

class AppTest {

  @Test
  void addTest() {
    assertEquals(App.add(1, 2), 3);
  }

  @Test
  void runTest() {
    String input = "1+2-3+4+5-6+7";
    List<Character> chars = input.chars().mapToObj(c -> (char) c).toList();

    assertEquals(App.run(chars), 10);
  }

  @Test
  void calculateTest() {

    Stack<Character> operatorStack = new Stack<>();
    Stack<Integer> numberStack = new Stack<>();

    operatorStack.push('+');

    numberStack.push(10);
    numberStack.push(20);

    assertEquals(App.calculate(operatorStack, numberStack), 30);
  }

  @Test
  void reverseStackTest() {
    Stack<Integer> numberStack = new Stack<>();
    numberStack.push(1);
    numberStack.push(2);

    App.reverseStack(numberStack);

    assertEquals(numberStack.peek(), 1);

  }

  @Test
  void operatorSelectTest() {

    Stack<Integer> numberStack = new Stack<>();
    int leftValue = 10;
    int rightValue = 20;
    char operator = '-';

    App.operatorSelect(numberStack, leftValue, rightValue, operator);

    Integer result1 = numberStack.pop();
    assertEquals(result1, -10);

    leftValue = 10;
    rightValue = 20;
    operator = '+';

    App.operatorSelect(numberStack, leftValue, rightValue, operator);
    Integer result2 = numberStack.pop();
    assertEquals(result2, 30);

  }


}
